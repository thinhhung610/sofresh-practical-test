var Site=function(t,e){var i={};return i.transitionTime=600,i.isIE=function(){var t=navigator.userAgent.toLowerCase();return-1!==t.indexOf("msie")?parseInt(t.split("msie")[1]):!1},i.transitionPage=function(){var i,n=t("body"),a=t("#footer .main-menu a"),o=t(".module"),s=e.location.hash;a.off("click.transitionPage").on("click.transitionPage",function(){var e=t(this),i=t(e.attr("href")),s=e.attr("href").substring(1);a.removeClass("active"),e.addClass("active"),i.length&&(o.not(i).removeAttr("style"),i.css("marginLeft",0),n.removeClass().addClass(s))}),s.length>1?(i=s.substring(1),t("#link-to-"+i).trigger("click.transitionPage"),n.removeClass().addClass(i)):t("#link-to-home").trigger("click.transitionPage")},i.tabContent=function(){var e=t("[data-tabcontent]");if(e.length){var i=t(".tabs .tab");e.off("click.changeTab").on("click.changeTab",function(n){n.preventDefault();var a=t(this),o=t(a.data("tabcontent"));e.removeClass("active"),a.addClass("active"),i.removeAttr("style"),o.css("marginLeft",0)}),e.each(function(){var e=t(this);e.hasClass("active")&&e.trigger("click.changeTab")})}},i}(jQuery,window);jQuery(function(){Site.transitionPage(),Site.tabContent()}),window.onload=function(){var t="./data/contest-data.json",e=function(t){for(var e="<ul>",i=0,n=t.length;n>i;i++)e+='<li><a class="link-contest-detail" data-fancybox-type="ajax" href="'+t[i].href+'" title="'+t[i].title+'"><img src="'+t[i].image+'" alt="'+t[i].title+'"></a>'+t[i].captions+"</li>";return e+="</ul>"};$("#submission [data-mycarousel]").mycarousel({isLoop:!0,control:!0,pagination:!0,onBeforeTransition:function(i,n){var a=i.find(".list-item > li").eq(n);a.hasClass("empty-content")&&$.getJSON(t,function(t){a.removeClass("empty-content").html(e(t.contest))})}}),$("#carousel [data-mycarousel]").mycarousel({slides:4,width:155,height:275}),$(".link-contest-detail").fancybox({wrapCSS:"popup-contest-detail",padding:0,margin:0,maxWidth:830,maxHeight:374,fitToView:!1,width:830,height:374,autoSize:!1,closeClick:!1,helpers:{title:null},afterShow:function(){$(".wrap-comment").mCustomScrollbar({axis:"y",theme:"rounded-dots"})}}),$(".link-to-register").fancybox({wrapCSS:"popup-register",padding:0,margin:0,maxWidth:363,maxHeight:490,fitToView:!1,width:363,height:490,autoSize:!1,closeClick:!1,closeBtn:!1,helpers:{title:null}})},function(t,e){function i(e,i){this.element=t(e),this.options=t.extend({},t.fn[a].defaults,i),this.init()}var n,a="mycarousel",o=function(t,e){var i=0;return e&&t.each(function(){i=Math.max(i,this[e])}),i},s=function(t,e){var i,n=t.find(".wrap"),a=t.find(".list-item"),s=a.children(),r=s.length;e.width=e.width||o(s,"clientWidth"),e.height=e.height||o(s,"clientHeight"),e.extraWidth=s.first().outerWidth(!0)-e.width,i=e.width+e.extraWidth,n.width(i*e.slides),n.height(e.height),s.width(e.width),a.addClass("transition").width(r*i)},r=function(t,e,i,n,a,o){var s;if("next"===e)s=i===n-o?a?0:i:i+1;else if("prev"===e)s=0===i?a?n-o:i:i-1;else{var r=t.data("goTo");s="first"===r?0:"last"===r?n-o:r-1}return s},l=function(t,e,i){var a,o=t.find(".list-item"),s=o.children(),l=s.length,c=o.children(".active").length?o.children(".active"):s.first(),f=c.index(),u=i.width+i.extraWidth;a=r(t,e,f,l,i.isLoop,i.slides),a!==f&&(i.onBeforeTransition.call(this,t,a),s.removeClass("active"),s.eq(a).addClass("active"),Site.isIE()&&Site.isIE()<=9?o.stop().animate({marginLeft:-u*a},i.speed,i.onAfterTransition(t,a)):(o.css("marginLeft",-u*a),clearTimeout(n),n=setTimeout(function(){i.onAfterTransition.call(this,t,a)},Site.transitionTime)),i.pagination&&(t.find(".pagination [data-paginate]").removeClass("active"),t.find('.pagination [data-paginate="'+parseInt(a+1)+'"]').addClass("active")))};i.prototype={init:function(){var e=this,i=e.element,n=e.options;if(e.generate(),n.control){var a=i.find(".controls li a");a.off("click.controlCarousel").on("click.controlCarousel",function(i){i.preventDefault(),e[t(this).data("control")]()})}if(n.pagination){var o=i.find(".pagination li a");o.off("click.pageCarousel").on("click.pageCarousel",function(i){i.preventDefault(),e.goTo(t(this).data("paginate"))})}},generate:function(){this.isInit||(s(this.element,this.options),this.isInit=!0)},next:function(){l(this.element,"next",this.options)},prev:function(){l(this.element,"prev",this.options)},goTo:function(t){var e=this.element;e.data("goTo",t),l(e,"goTo",this.options)},destroy:function(){var e=this,i=e.element,n=e.options;n.control&&i.find(".controls li a").off("click.controlCarousel"),n.pagination&&i.find(".pagination li a").off("click.pageCarousel"),i.find(".wrap").removeAttr("style"),i.find(".list-item").removeClass("transition").removeAttr("style").children().removeAttr("style"),t.removeData(this.element[0],a)}},t.fn[a]=function(n,o){return this.each(function(){var s=t.data(this,a);s?s[n]?s[n](o):e.console&&console.log(n?n+" method is not exists in "+a:a+" plugin has been initialized"):t.data(this,a,new i(this,n))})},t.fn[a].defaults={slides:1,speed:600,width:0,height:0,isLoop:!1,control:!0,pagination:!1,onBeforeTransition:function(){},onAfterTransition:function(){}}}(jQuery,window),function(t,e){function i(e,i){this.element=t(e),this.options=t.extend({},t.fn[n].defaults,i),this.init()}var n="validation",a=function(e){var i={},n=function(t,e){var i={};if(/^(messages)/gi.test(t)){var n={},a="messages",o=t.split(a)[1];n[o.toLowerCase()]=e,i[a]=n}else if("rules"===t){var s,r={},l=e.split(","),c=l.length;for(s=0;c>s;s++){var f=l[s].trim();r[f]=f,i[t]=r}}return i};for(var a in e)i=t.extend(!0,i,n(a,e[a]));return i},o=function(e){var i=t(e),n={},a={},o=e.type;return"email"===o&&(a[o]=o),i.attr("required")&&(a.required="required"),n.rules=a,n},s=function(e,i){t(e).off("change.validate").on("change.validate",function(){r(e,i)})},r=function(t,e){var i=t.value.replace(/\s+/g,"");for(var n in e.rules){var a;if(u(t),!l(n,i))return a=e.messages?e.messages[n]||L10n.messages[n]:L10n.messages[n],f(t,a),!1}return!0},l=function(t,e){if(e){if("email"===t&&!h(e))return!1}else if("required"===t)return!1;return!0},c=function(t){var e=t.offset(),i=t.parents(".row").offset(),n=t.height();return{top:e.top-i.top+n/2,left:e.left-i.left+10}},f=function(e,i,n){var a,o=t(e),s=c(o);a=t('<span class="message error" style="top:'+s.top+"px; left: "+s.left+'px">'+i+"</span>"),n=n||"after",o.addClass("field-error"),a.off("mouseenter mouseleave").on("mouseenter mouseleave",function(){a.off().remove()}),o[n](a)},u=function(e){t(e).removeClass("field-error").next(".error").remove()},h=function(t){return/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/.test(t)};i.prototype={init:function(){var t=this,e=t.element;t.validate(),e.off("submit."+n).on("submit."+n,function(){return t.validate("submit")?void 0:!1})},validate:function(e){var i=this,n=i.element,l=!0;return n.find(":input").each(function(){if(!/^(submit|button)$/.test(this.type)){var n=t.extend(!0,o(this),a(this.dataset),a(i.options[this.name]));"submit"===e?r(this,n)||(l=!1):s(this,n)}}),l},destroy:function(){this.element.off("submit."+n),t.removeData(this.element[0],n)}},t.fn[n]=function(a,o){return this.each(function(){var s=t.data(this,n);s?s[a]?s[a](o):e.console&&console.log(a?a+" method is not exists in "+n:n+" plugin has been initialized"):t.data(this,n,new i(this,a))})},t.fn[n].defaults={},t(function(){t("[data-"+n+"]")[n]()})}(jQuery,window);